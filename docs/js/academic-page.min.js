const YOUR_ORCID="0000-0002-5640-4413",API_BACKEND_URL="http://s.aintlab.com";let tblMetrics=document.getElementById("dtMetrics");tblMetrics.classList.add("text-xs");const d=new Date;let curryear=d.getFullYear(),yearofexplabel=document.getElementById("yearofexp");const yearofexp=parseInt(curryear)-2014,fethWorks=(yearofexplabel.innerHTML=yearofexp,async()=>{try{var a=(await axios.get(API_BACKEND_URL+"/orcid/"+YOUR_ORCID+"/googlescholar.json")).data;const l=document.getElementById("animateLoading"),o=document.getElementById("workCount"),d=document.getElementById("additionalInfo"),n=document.getElementById("tblTitle");if(a){l.classList.remove("animate-pulse"),o.classList.remove("bg-gray-300"),o.classList.add("bg-red-800"),n.innerHTML=a.total_papers+" Publications* <span class='hidden lg:block'>(Citations: "+a.total_citations+", H-index: "+a.hindex+")</span>",o.innerHTML="<button id='detailPublications'>"+a.total_papers+"* Publications</button>",d.innerHTML='<p class="italic">(*) This data was obtained from <a href="'+a.gs_id+'&view_op=list_works&sortby=pubdate" target="_blank">Google Scholar</a>, while (**) this data was obtained from <a href="https://orcid.org/'+a.orcid+'" target="_blank">ORCID</a>. Generated as of '+a.updated+".</p>";const i=document.getElementById("my-modal-publications"),r=document.getElementById("detailPublications"),c=document.getElementById("ok-btn-publications"),m=document.getElementById("my-total-review-modal"),y=document.getElementById("my-metrics-modal"),g=document.getElementById("workCountText"),u=document.getElementById("citedCount"),b=document.getElementById("citationSource"),p=(b.innerHTML='<a href="'+a.gs_id+'&view_op=list_works&sortby=pubdate" target="_blank" class="link" target="_blank" data-tippy-content="Visit Google Scholar page">Google Scholar</a>',tblMetrics.innerHTML+="<tr class='border'><td>#</td><td class='text-left'>Total publications*</td><td>"+a.total_papers+"</td></tr>",tblMetrics.innerHTML+="<tr class='border'><td>#</td><td class='text-left'>Total citations*</td><td>"+a.total_citations+"</td></tr>",tblMetrics.innerHTML+="<tr class='border'><td>#</td><td class='text-left'>H-index*</td><td>"+a.hindex+"</td></tr>",r.onclick=function(){m.style.display="none",y.style.display="none",i.style.display="block"},c.onclick=function(){i.style.display="none"},document.getElementById("dtPublications"));let t="",e=a.data.length;for(var s=0;s<a.data.length;s++)t+="<tr class='border'><td>"+e+"</td><td class='text-left'><a href='"+a.data[s].gs_view+"' target='_blank'>"+a.data[s].title+"</a></td><td>"+a.data[s].year+"</td><td><a href='"+a.data[s].gs_link+"' target='_blank'>"+a.data[s].citation+"</a></td></tr>",--e;p.innerHTML=t,g.innerHTML=a.total_papers,u.innerHTML=a.total_citations}return a}catch(t){console.error(t)}}),fethReviews=(fethWorks(),async()=>{try{var a=(await axios.get(API_BACKEND_URL+"/orcid/"+YOUR_ORCID+"/reviews.json")).data;const l=document.getElementById("animateLoading"),o=document.getElementById("totalReviews"),d=document.getElementById("tblReviewTitle");if(a){l.classList.remove("animate-pulse"),o.classList.remove("bg-gray-300"),o.classList.add("bg-red-800"),d.innerHTML=a.total_reviews+" Verified peer reviews** <span class='hidden lg:block'>(Total outlets: "+a.total_outlets+")</span>",o.innerHTML="<button id='detailReviews'>"+a.total_reviews+"** Reviews</button>";const n=document.getElementById("my-total-review-modal"),i=document.getElementById("detailReviews"),r=document.getElementById("ok-btn-reviews"),c=document.getElementById("my-modal-publications"),m=document.getElementById("my-metrics-modal"),y=document.getElementById("outletCount"),g=(i.onclick=function(){c.style.display="none",m.style.display="none",n.style.display="block"},r.onclick=function(){n.style.display="none"},document.getElementById("dtReviews"));let t="",e=a.data.length;for(var s=0;s<a.data.length;s++)t+="<tr class='border'><td>"+e+"</td><td class='text-left'><a href='https://portal.issn.org/resource/ISSN/"+a.data[s].issn+"' target='_blank'>"+a.data[s].outlet+" ("+a.data[s].issn+")</a></td><td>"+a.data[s].reviews+"</td></tr>",--e;g.innerHTML=t,tblMetrics.innerHTML+="<tr class='border'><td>#</td><td class='text-left'>Total verified reviews**</td><td>"+a.total_reviews+"</td></tr>",tblMetrics.innerHTML+="<tr class='border'><td>#</td><td class='text-left'>Total served outlets**</td><td>"+a.total_outlets+"</td></tr>",y.innerHTML=a.total_outlets}return a}catch(t){console.error(t)}}),fethMetrics=(fethReviews(),async()=>{try{var t=(await axios.get(API_BACKEND_URL+"/orcid/"+YOUR_ORCID+"/reviews.json")).data;if(t){const e=document.getElementById("my-metrics-modal"),a=document.getElementById("openMetrics"),s=document.getElementById("ok-btn-metrics"),l=document.getElementById("my-modal-publications"),o=document.getElementById("my-total-review-modal");a.onclick=function(){l.style.display="none",o.style.display="none",e.style.display="block"},s.onclick=function(){e.style.display="none"}}return t}catch(t){console.error(t)}}),metricnotes=(fethMetrics(),document.getElementById("metricnotes")),fetchUpdates=(metricnotes.innerHTML+='<iframe src="'+API_BACKEND_URL+"/orcid/"+YOUR_ORCID+'/googlescholar.chart" frameborder="0" style="width:100%;height:280px"></iframe>',async()=>{try{const l=document.getElementById("recentUpdates");var e=(await axios.get("https://aintlab.com/updates/rss.xml")).data;const o=fromXML(e);var a=o.rss.channel.item.slice(0,4);let t="";for(var s=0;s<a.length;s++)t+="[<a href='"+a[s].link+"' target='_blank' class='link' data-tippy-content='View this update'>"+a[s].title+"</a>], ";t+="<a href='https://aintlab.com/updates' class='link' data-tippy-content='View all updates' target='_blank'>[All updates].</a>",l.innerHTML="Recent updates: "+t}catch(t){console.error(t)}}),yearbuild=(fetchUpdates(),document.getElementById("yearbuild")),toggle=(yearbuild.innerHTML=(new Date).getFullYear(),tippy(".link",{placement:"bottom"}),document.querySelector(".js-change-theme")),body=document.querySelector("body"),profile=document.getElementById("profile"),modalreview=document.getElementById("my-total-review-modal"),modalpub=document.getElementById("my-modal-publications"),modalmetrics=document.getElementById("my-metrics-modal");toggle.addEventListener("click",()=>{body.classList.contains("text-gray-900")?(toggle.innerHTML="ðŸŒž",body.classList.remove("text-gray-900"),body.classList.add("text-gray-100"),profile.classList.remove("bg-white"),profile.classList.add("bg-gray-900"),modalreview.classList.remove("bg-white"),modalreview.classList.add("bg-gray-900"),modalpub.classList.remove("bg-white"),modalpub.classList.add("bg-gray-900"),modalmetrics.classList.remove("bg-white"),modalmetrics.classList.add("bg-gray-900")):(toggle.innerHTML="ðŸŒ›",body.classList.remove("text-gray-100"),body.classList.add("text-gray-900"),profile.classList.remove("bg-gray-900"),profile.classList.add("bg-white"),modalreview.classList.remove("bg-gray-900"),modalreview.classList.add("bg-white"),modalpub.classList.remove("bg-gray-900"),modalpub.classList.add("bg-white"),modalmetrics.classList.remove("bg-gray-900"),modalmetrics.classList.add("bg-white"))});